[gd_scene load_steps=13 format=3 uid="uid://bpwmgbsotnefi"]

[ext_resource type="Script" uid="uid://d3dpynfttdxbu" path="res://scripts/player.gd" id="1_0wfyh"]
[ext_resource type="Script" uid="uid://cgn0wro10wdia" path="res://scripts/main.gd" id="1_tbgi4"]
[ext_resource type="SpriteFrames" uid="uid://cdtsfs1h0yy1j" path="res://lSTINK!l/Player_Idle.tres" id="3_85g3d"]
[ext_resource type="Script" uid="uid://d0x6uisqpxent" path="res://scripts/debug_spawner.gd" id="4_jyhfs"]
[ext_resource type="Script" uid="uid://d3w5w2nrem48i" path="res://scripts/drain_zone.gd" id="4_tipki"]
[ext_resource type="Script" uid="uid://df7kwffubrvab" path="res://scripts/drain_lines.gd" id="5_85g3d"]
[ext_resource type="PackedScene" uid="uid://mmjmsfh161nm" path="res://prefabs/line.tscn" id="6_choun"]
[ext_resource type="PackedScene" uid="uid://bc3hv7llrqc1s" path="res://prefabs/debug_spawn.tscn" id="6_tefeu"]
[ext_resource type="PackedScene" uid="uid://f4beparo6paa" path="res://lSTINK!l/MagicItems/MagicItem.tscn" id="7_85g3d"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_jyhfs"]
friction = 0.0

[sub_resource type="CircleShape2D" id="CircleShape2D_o5qli"]
radius = 4.0

[sub_resource type="CircleShape2D" id="CircleShape2D_o6xl0"]
radius = 39.0

[node name="main" type="Node2D"]
script = ExtResource("1_tbgi4")

[node name="world" type="Node2D" parent="."]

[node name="player" type="RigidBody2D" parent="world"]
physics_material_override = SubResource("PhysicsMaterial_jyhfs")
gravity_scale = 0.0
lock_rotation = true
contact_monitor = true
max_contacts_reported = 10
script = ExtResource("1_0wfyh")
movement_speed = 20.0

[node name="sprite" type="AnimatedSprite2D" parent="world/player"]
texture_filter = 1
sprite_frames = ExtResource("3_85g3d")
autoplay = "default"

[node name="shape" type="CollisionShape2D" parent="world/player"]
shape = SubResource("CircleShape2D_o5qli")

[node name="drain_zone" type="Area2D" parent="world/player"]
collision_layer = 2
collision_mask = 2
script = ExtResource("4_tipki")

[node name="shape" type="CollisionShape2D" parent="world/player/drain_zone"]
shape = SubResource("CircleShape2D_o6xl0")

[node name="drain_lines" type="Node2D" parent="world/player"]
script = ExtResource("5_85g3d")
line_prefab = ExtResource("6_choun")

[node name="props" type="Node2D" parent="world"]

[node name="entities" type="Node2D" parent="world"]

[node name="MagicItem" parent="world/entities" instance=ExtResource("7_85g3d")]
position = Vector2(23, 15)

[node name="debug_spawner" type="Node2D" parent="."]
script = ExtResource("4_jyhfs")
debug_spawn = ExtResource("6_tefeu")

[node name="camera" type="Camera2D" parent="."]
zoom = Vector2(5, 5)

[connection signal="body_entered" from="world/player/drain_zone" to="world/player/drain_zone" method="_on_body_entered"]
[connection signal="body_exited" from="world/player/drain_zone" to="world/player/drain_zone" method="_on_body_exited"]
